<p>I wanted to deploy a cloud instance in order to perform High Frequency Trading wiht low latency toward a couple of cryptocurrency exchanges.
First of all I needed a list of exchanges, so I leveraged an open source library which allows an unified API toward those exchanges.
It definitively have a list of endpoits.</p>


									<hr class="major" />

<button type="button"  class="button primary small" data-toggle="collapse" data-target="#code_collapseNone">Show Me The Code</button>
<div id="code_collapseNone" class="collapse"><pre><code><div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">ccxt</span>
<span class="kn">from</span> <span class="nn">importlib</span> <span class="k">import</span> <span class="n">import_module</span>

<span class="n">ccxt_modules</span> <span class="o">=</span> <span class="p">[</span><span class="n">mod</span> <span class="k">for</span> <span class="n">mod</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">ccxt</span><span class="p">)</span> <span class="k">if</span> <span class="n">mod</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">islower</span><span class="p">()</span> <span class="ow">and</span> <span class="n">mod</span> <span class="ow">not</span> <span class="ow">in</span> 
                <span class="p">[</span><span class="s1">&#39;base&#39;</span><span class="p">,</span><span class="s1">&#39;decimal_to_precision&#39;</span><span class="p">,</span><span class="s1">&#39;error_hierarchy&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;errors&#39;</span><span class="p">,</span><span class="s1">&#39;exchanges&#39;</span><span class="p">,</span><span class="s1">&#39;static_dependencies&#39;</span><span class="p">]]</span>
<span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">ccxt_modules</span><span class="p">:</span>
    <span class="n">full_module_name</span> <span class="o">=</span> <span class="s2">&quot;ccxt.&quot;</span> <span class="o">+</span> <span class="n">mod</span>

    <span class="n">imp_module</span> <span class="o">=</span> <span class="n">import_module</span><span class="p">(</span><span class="n">full_module_name</span><span class="p">)</span>
    <span class="n">describe</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">imp_module</span><span class="p">,</span> <span class="n">mod</span><span class="p">)()</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
    <span class="n">api_elem</span> <span class="o">=</span> <span class="n">describe</span><span class="p">[</span><span class="s1">&#39;urls&#39;</span><span class="p">][</span><span class="s1">&#39;api&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">api_elem</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">api_elem</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;private&#39;</span> <span class="ow">in</span> <span class="n">api_elem</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span><span class="p">[</span><span class="s1">&#39;private&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s1">&#39;v3Private&#39;</span> <span class="ow">in</span> <span class="n">api_elem</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span><span class="p">[</span><span class="s1">&#39;v3Private&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s1">&#39;trade&#39;</span> <span class="ow">in</span> <span class="n">api_elem</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span><span class="p">[</span><span class="s1">&#39;trade&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s1">&#39;api&#39;</span> <span class="ow">in</span> <span class="n">api_elem</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span><span class="p">[</span><span class="s1">&#39;api&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s1">&#39;public&#39;</span> <span class="ow">in</span> <span class="n">api_elem</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span><span class="p">[</span><span class="s1">&#39;public&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s1">&#39;rest&#39;</span> <span class="ow">in</span> <span class="n">api_elem</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span><span class="p">[</span><span class="s1">&#39;rest&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s1">&#39;publicV2&#39;</span> <span class="ow">in</span> <span class="n">api_elem</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span><span class="p">[</span><span class="s1">&#39;publicV2&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s1">&#39;current&#39;</span> <span class="ow">in</span> <span class="n">api_elem</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span><span class="p">[</span><span class="s1">&#39;current&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">api_elem</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_elem</span><span class="p">[</span><span class="n">api_elem</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Unexpected json structure&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;hostname&#39;</span> <span class="ow">in</span> <span class="n">api_url</span><span class="p">:</span>
        <span class="n">api_url</span> <span class="o">=</span> <span class="n">api_url</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">hostname</span><span class="o">=</span><span class="n">describe</span><span class="p">[</span><span class="s1">&#39;hostname&#39;</span><span class="p">])</span>

    <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">describe</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">api_url</span><span class="p">])</span>

<span class="n">exchanges_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;api_url&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
<span class="n">exchanges_df</span>
</pre></div>
</code></pre></div>


									<hr class="major" />

<button type="button"  class="button primary small" data-toggle="collapse" data-target="#code_collapse2">Show Me The Code</button>
<div id="code_collapse2" class="collapse"><pre><code><div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="k">import</span> <span class="n">urlparse</span>
<span class="kn">import</span> <span class="nn">socket</span>

<span class="k">def</span> <span class="nf">extract_domain</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">domain</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">hostname</span>
    <span class="k">return</span> <span class="n">domain</span>

<span class="k">def</span> <span class="nf">get_ip</span><span class="p">(</span><span class="n">domain</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">domain</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># print(domain)</span>
        <span class="c1"># print(e)</span>
        <span class="k">pass</span>

<span class="n">exchanges_df</span><span class="p">[</span><span class="s1">&#39;api_url_domain&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exchanges_df</span><span class="o">.</span><span class="n">api_url</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_domain</span><span class="p">)</span>
<span class="n">exchanges_df</span><span class="p">[</span><span class="s1">&#39;api_ip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exchanges_df</span><span class="p">[</span><span class="s1">&#39;api_url_domain&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">get_ip</span><span class="p">)</span>
<span class="n">exchanges_df</span>
</pre></div>
</code></pre></div>




    


<div>
 <table border="1" class="dataframe">
  <thead>
   <tr style="text-align: right;">
    <th>
    </th>
    <th>
     api_url
    </th>
    <th>
     api_url_domain
    </th>
    <th>
     api_ip
    </th>
   </tr>
   <tr>
    <th>
     name
    </th>
    <th>
    </th>
    <th>
    </th>
    <th>
    </th>
   </tr>
  </thead>
  <tbody>
   <tr>
    <th>
     aax
    </th>
    <td>
     https://api.aax.com
    </td>
    <td>
     api.aax.com
    </td>
    <td>
     52.220.66.226
    </td>
   </tr>
   <tr>
    <th>
     acx
    </th>
    <td>
     https://acx.io/api
    </td>
    <td>
     acx.io
    </td>
    <td>
     3.106.77.227
    </td>
   </tr>
   <tr>
    <th>
     aofex
    </th>
    <td>
     https://openapi.aofex.com/openApi
    </td>
    <td>
     openapi.aofex.com
    </td>
    <td>
     104.20.161.135
    </td>
   </tr>
   <tr>
    <th>
     bequant
    </th>
    <td>
     https://api.bequant.io
    </td>
    <td>
     api.bequant.io
    </td>
    <td>
     172.67.74.135
    </td>
   </tr>
   <tr>
    <th>
     bibox
    </th>
    <td>
     https://api.bibox365.com
    </td>
    <td>
     api.bibox365.com
    </td>
    <td>
     104.26.13.161
    </td>
   </tr>
   <tr>
    <th>
     ...
    </th>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
   </tr>
   <tr>
    <th>
     xbtce
    </th>
    <td>
     https://cryptottlivewebapi.xbtce.net:8443/api
    </td>
    <td>
     cryptottlivewebapi.xbtce.net
    </td>
    <td>
     195.154.26.204
    </td>
   </tr>
   <tr>
    <th>
     xena
    </th>
    <td>
     https://api.xena.exchange
    </td>
    <td>
     api.xena.exchange
    </td>
    <td>
     104.22.73.120
    </td>
   </tr>
   <tr>
    <th>
     yobit
    </th>
    <td>
     https://yobit.net/tapi
    </td>
    <td>
     yobit.net
    </td>
    <td>
     104.16.241.98
    </td>
   </tr>
   <tr>
    <th>
     zaif
    </th>
    <td>
     https://api.zaif.jp
    </td>
    <td>
     api.zaif.jp
    </td>
    <td>
     13.112.252.96
    </td>
   </tr>
   <tr>
    <th>
     zb
    </th>
    <td>
     https://trade.zb.cn/api
    </td>
    <td>
     trade.zb.cn
    </td>
    <td>
     47.244.159.168
    </td>
   </tr>
  </tbody>
 </table>
 <p>
  124 rows × 3 columns
 </p>
</div>




									<hr class="major" /><p>Then I used a tool for grouping togheter ip addresses in Autonomous Systems. 
In order to do that I downloaded MRT/RIB BGP archives from Routeviews (or similar sources).
<a href="https://github.com/hadiasghari/pyasn">link</a></p>


									<hr class="major" />

<button type="button"  class="button primary small" data-toggle="collapse" data-target="#code_collapse3">Show Me The Code</button>
<div id="code_collapse3" class="collapse"><pre><code><div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pyasn</span>

<span class="n">asndb</span> <span class="o">=</span> <span class="n">pyasn</span><span class="o">.</span><span class="n">pyasn</span><span class="p">(</span><span class="s1">&#39;../data/ipasn.20201106.dat&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_get_asn</span><span class="p">(</span><span class="n">ip</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">asndb</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="n">ip</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="n">ip</span>


<span class="n">exchanges_df</span><span class="p">[</span><span class="s1">&#39;api_asn&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exchanges_df</span><span class="p">[</span><span class="s1">&#39;api_ip&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">_get_asn</span><span class="p">)</span>
<span class="n">exchanges_df</span>
</pre></div>
</code></pre></div>




    


<div>
 <table border="1" class="dataframe">
  <thead>
   <tr style="text-align: right;">
    <th>
    </th>
    <th>
     api_url
    </th>
    <th>
     api_url_domain
    </th>
    <th>
     api_ip
    </th>
    <th>
     api_asn
    </th>
   </tr>
   <tr>
    <th>
     name
    </th>
    <th>
    </th>
    <th>
    </th>
    <th>
    </th>
    <th>
    </th>
   </tr>
  </thead>
  <tbody>
   <tr>
    <th>
     aax
    </th>
    <td>
     https://api.aax.com
    </td>
    <td>
     api.aax.com
    </td>
    <td>
     52.220.66.226
    </td>
    <td>
     52.220.0.0/15
    </td>
   </tr>
   <tr>
    <th>
     acx
    </th>
    <td>
     https://acx.io/api
    </td>
    <td>
     acx.io
    </td>
    <td>
     3.106.77.227
    </td>
    <td>
     3.104.0.0/14
    </td>
   </tr>
   <tr>
    <th>
     aofex
    </th>
    <td>
     https://openapi.aofex.com/openApi
    </td>
    <td>
     openapi.aofex.com
    </td>
    <td>
     104.20.161.135
    </td>
    <td>
     104.20.160.0/20
    </td>
   </tr>
   <tr>
    <th>
     bequant
    </th>
    <td>
     https://api.bequant.io
    </td>
    <td>
     api.bequant.io
    </td>
    <td>
     172.67.74.135
    </td>
    <td>
     172.67.64.0/20
    </td>
   </tr>
   <tr>
    <th>
     bibox
    </th>
    <td>
     https://api.bibox365.com
    </td>
    <td>
     api.bibox365.com
    </td>
    <td>
     104.26.13.161
    </td>
    <td>
     104.26.0.0/20
    </td>
   </tr>
   <tr>
    <th>
     ...
    </th>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
   </tr>
   <tr>
    <th>
     xbtce
    </th>
    <td>
     https://cryptottlivewebapi.xbtce.net:8443/api
    </td>
    <td>
     cryptottlivewebapi.xbtce.net
    </td>
    <td>
     195.154.26.204
    </td>
    <td>
     195.154.0.0/16
    </td>
   </tr>
   <tr>
    <th>
     xena
    </th>
    <td>
     https://api.xena.exchange
    </td>
    <td>
     api.xena.exchange
    </td>
    <td>
     104.22.73.120
    </td>
    <td>
     104.22.64.0/20
    </td>
   </tr>
   <tr>
    <th>
     yobit
    </th>
    <td>
     https://yobit.net/tapi
    </td>
    <td>
     yobit.net
    </td>
    <td>
     104.16.241.98
    </td>
    <td>
     104.16.240.0/20
    </td>
   </tr>
   <tr>
    <th>
     zaif
    </th>
    <td>
     https://api.zaif.jp
    </td>
    <td>
     api.zaif.jp
    </td>
    <td>
     13.112.252.96
    </td>
    <td>
     13.112.0.0/14
    </td>
   </tr>
   <tr>
    <th>
     zb
    </th>
    <td>
     https://trade.zb.cn/api
    </td>
    <td>
     trade.zb.cn
    </td>
    <td>
     47.244.159.168
    </td>
    <td>
     47.244.128.0/17
    </td>
   </tr>
  </tbody>
 </table>
 <p>
  124 rows × 4 columns
 </p>
</div>




									<hr class="major" />

<button type="button"  class="button primary small" data-toggle="collapse" data-target="#code_collapse4">Show Me The Code</button>
<div id="code_collapse4" class="collapse"><pre><code><div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://ip-ranges.amazonaws.com/ip-ranges.json&#39;</span>
<span class="n">req</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">aws_ip_ranges_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">req</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;prefixes&#39;</span><span class="p">],</span>  
                                <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ip_prefix&#39;</span><span class="p">,</span> <span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="s1">&#39;service&#39;</span><span class="p">,</span> <span class="s1">&#39;network_border_group&#39;</span><span class="p">])</span>
<span class="n">aws_ip_ranges_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;ip_prefix&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">aws_ip_ranges_df</span>
</pre></div>
</code></pre></div>




    


<div>
 <table border="1" class="dataframe">
  <thead>
   <tr style="text-align: right;">
    <th>
    </th>
    <th>
     region
    </th>
    <th>
     service
    </th>
    <th>
     network_border_group
    </th>
   </tr>
   <tr>
    <th>
     ip_prefix
    </th>
    <th>
    </th>
    <th>
    </th>
    <th>
    </th>
   </tr>
  </thead>
  <tbody>
   <tr>
    <th>
     3.5.140.0/22
    </th>
    <td>
     ap-northeast-2
    </td>
    <td>
     AMAZON
    </td>
    <td>
     ap-northeast-2
    </td>
   </tr>
   <tr>
    <th>
     35.180.0.0/16
    </th>
    <td>
     eu-west-3
    </td>
    <td>
     AMAZON
    </td>
    <td>
     eu-west-3
    </td>
   </tr>
   <tr>
    <th>
     52.93.178.234/32
    </th>
    <td>
     us-west-1
    </td>
    <td>
     AMAZON
    </td>
    <td>
     us-west-1
    </td>
   </tr>
   <tr>
    <th>
     52.94.76.0/22
    </th>
    <td>
     us-west-2
    </td>
    <td>
     AMAZON
    </td>
    <td>
     us-west-2
    </td>
   </tr>
   <tr>
    <th>
     52.95.36.0/22
    </th>
    <td>
     ap-southeast-2
    </td>
    <td>
     AMAZON
    </td>
    <td>
     ap-southeast-2
    </td>
   </tr>
   <tr>
    <th>
     ...
    </th>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
   </tr>
   <tr>
    <th>
     44.242.161.8/31
    </th>
    <td>
     us-west-2
    </td>
    <td>
     KINESIS_VIDEO_STREAMS
    </td>
    <td>
     us-west-2
    </td>
   </tr>
   <tr>
    <th>
     44.242.184.128/25
    </th>
    <td>
     us-west-2
    </td>
    <td>
     AMAZON
    </td>
    <td>
     us-west-2
    </td>
   </tr>
   <tr>
    <th>
     52.43.76.88/29
    </th>
    <td>
     us-west-2
    </td>
    <td>
     CODEBUILD
    </td>
    <td>
     us-west-2
    </td>
   </tr>
   <tr>
    <th>
     54.190.198.32/28
    </th>
    <td>
     us-west-2
    </td>
    <td>
     AMAZON_CONNECT
    </td>
    <td>
     us-west-2
    </td>
   </tr>
   <tr>
    <th>
     54.244.46.0/23
    </th>
    <td>
     us-west-2
    </td>
    <td>
     WORKSPACES_GATEWAYS
    </td>
    <td>
     us-west-2
    </td>
   </tr>
  </tbody>
 </table>
 <p>
  3804 rows × 3 columns
 </p>
</div>




									<hr class="major" />

<button type="button"  class="button primary small" data-toggle="collapse" data-target="#code_collapse5">Show Me The Code</button>
<div id="code_collapse5" class="collapse"><pre><code><div class=" highlight hl-ipython3"><pre><span></span><span class="n">exchanges_df</span> <span class="o">=</span> <span class="n">exchanges_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">aws_ip_ranges_df</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;api_asn&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">exchanges_df</span>
</pre></div>
</code></pre></div>




    


<div>
 <table border="1" class="dataframe">
  <thead>
   <tr style="text-align: right;">
    <th>
    </th>
    <th>
     api_url
    </th>
    <th>
     api_url_domain
    </th>
    <th>
     api_ip
    </th>
    <th>
     api_asn
    </th>
    <th>
     region
    </th>
    <th>
     service
    </th>
    <th>
     network_border_group
    </th>
   </tr>
   <tr>
    <th>
     name
    </th>
    <th>
    </th>
    <th>
    </th>
    <th>
    </th>
    <th>
    </th>
    <th>
    </th>
    <th>
    </th>
    <th>
    </th>
   </tr>
  </thead>
  <tbody>
   <tr>
    <th>
     aax
    </th>
    <td>
     https://api.aax.com
    </td>
    <td>
     api.aax.com
    </td>
    <td>
     52.220.66.226
    </td>
    <td>
     52.220.0.0/15
    </td>
    <td>
     ap-southeast-1
    </td>
    <td>
     AMAZON
    </td>
    <td>
     ap-southeast-1
    </td>
   </tr>
   <tr>
    <th>
     aax
    </th>
    <td>
     https://api.aax.com
    </td>
    <td>
     api.aax.com
    </td>
    <td>
     52.220.66.226
    </td>
    <td>
     52.220.0.0/15
    </td>
    <td>
     ap-southeast-1
    </td>
    <td>
     EC2
    </td>
    <td>
     ap-southeast-1
    </td>
   </tr>
   <tr>
    <th>
     acx
    </th>
    <td>
     https://acx.io/api
    </td>
    <td>
     acx.io
    </td>
    <td>
     3.106.77.227
    </td>
    <td>
     3.104.0.0/14
    </td>
    <td>
     ap-southeast-2
    </td>
    <td>
     AMAZON
    </td>
    <td>
     ap-southeast-2
    </td>
   </tr>
   <tr>
    <th>
     acx
    </th>
    <td>
     https://acx.io/api
    </td>
    <td>
     acx.io
    </td>
    <td>
     3.106.77.227
    </td>
    <td>
     3.104.0.0/14
    </td>
    <td>
     ap-southeast-2
    </td>
    <td>
     EC2
    </td>
    <td>
     ap-southeast-2
    </td>
   </tr>
   <tr>
    <th>
     aofex
    </th>
    <td>
     https://openapi.aofex.com/openApi
    </td>
    <td>
     openapi.aofex.com
    </td>
    <td>
     104.20.161.135
    </td>
    <td>
     104.20.160.0/20
    </td>
    <td>
     NaN
    </td>
    <td>
     NaN
    </td>
    <td>
     NaN
    </td>
   </tr>
   <tr>
    <th>
     ...
    </th>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
    <td>
     ...
    </td>
   </tr>
   <tr>
    <th>
     xena
    </th>
    <td>
     https://api.xena.exchange
    </td>
    <td>
     api.xena.exchange
    </td>
    <td>
     104.22.73.120
    </td>
    <td>
     104.22.64.0/20
    </td>
    <td>
     NaN
    </td>
    <td>
     NaN
    </td>
    <td>
     NaN
    </td>
   </tr>
   <tr>
    <th>
     yobit
    </th>
    <td>
     https://yobit.net/tapi
    </td>
    <td>
     yobit.net
    </td>
    <td>
     104.16.241.98
    </td>
    <td>
     104.16.240.0/20
    </td>
    <td>
     NaN
    </td>
    <td>
     NaN
    </td>
    <td>
     NaN
    </td>
   </tr>
   <tr>
    <th>
     zaif
    </th>
    <td>
     https://api.zaif.jp
    </td>
    <td>
     api.zaif.jp
    </td>
    <td>
     13.112.252.96
    </td>
    <td>
     13.112.0.0/14
    </td>
    <td>
     ap-northeast-1
    </td>
    <td>
     AMAZON
    </td>
    <td>
     ap-northeast-1
    </td>
   </tr>
   <tr>
    <th>
     zaif
    </th>
    <td>
     https://api.zaif.jp
    </td>
    <td>
     api.zaif.jp
    </td>
    <td>
     13.112.252.96
    </td>
    <td>
     13.112.0.0/14
    </td>
    <td>
     ap-northeast-1
    </td>
    <td>
     EC2
    </td>
    <td>
     ap-northeast-1
    </td>
   </tr>
   <tr>
    <th>
     zb
    </th>
    <td>
     https://trade.zb.cn/api
    </td>
    <td>
     trade.zb.cn
    </td>
    <td>
     47.244.159.168
    </td>
    <td>
     47.244.128.0/17
    </td>
    <td>
     NaN
    </td>
    <td>
     NaN
    </td>
    <td>
     NaN
    </td>
   </tr>
  </tbody>
 </table>
 <p>
  140 rows × 7 columns
 </p>
</div>




									<hr class="major" />

<button type="button"  class="button primary small" data-toggle="collapse" data-target="#code_collapse67">Show Me The Code</button>
<div id="code_collapse67" class="collapse"><pre><code><div class=" highlight hl-ipython3"><pre><span></span><span class="n">exchanges_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;region&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">count</span><span class="p">()[[</span><span class="s1">&#39;api_url&#39;</span><span class="p">]]</span>\
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">mapper</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">api_url</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</code></pre></div>




    



<pre>array([&#39;ap-northeast-1&#39;, &#39;eu-west-1&#39;, &#39;ap-northeast-2&#39;, &#39;ap-southeast-1&#39;,
       &#39;us-east-1&#39;, &#39;ap-southeast-2&#39;, &#39;eu-central-1&#39;], dtype=object)</pre>




									<hr class="major" />


<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML-full,Safe"> </script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    init_mathjax = function() {
        if (window.MathJax) {
        // MathJax loaded
            MathJax.Hub.Config({
                TeX: {
                    equationNumbers: {
                    autoNumber: "AMS",
                    useLabelIds: true
                    }
                },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true,
                    processEnvironments: true
                },
                displayAlign: 'center',
                CommonHTML: {
                    linebreaks: { 
                    automatic: true 
                    }
                },
                "HTML-CSS": {
                    linebreaks: { 
                    automatic: true 
                    }
                }
            });
        
            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
    }
    init_mathjax();
    </script>
    <!-- End of mathjax configuration -->
